<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Control Panel &mdash; 3Laws 1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../_static/tabs.css?v=a5c4661c" />

  
    <link rel="canonical" href="https://3lawsrobotics.github.io/3laws/sources/user_guide/control_panel.html" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=f2a433a1"></script>
        <script src="../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../_static/copybutton.js?v=f281be69"></script>
        <script src="../../_static/tabs.js?v=3030b3cb"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Command Line Interface (CLI)" href="cli.html" />
    <link rel="prev" title="Robot Diagnostic" href="diagnostics.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            3Laws
          </a>
              <div class="version">
                1.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../user_guide.html">User Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="runtime_assurance.html">Run-time Assurance</a></li>
<li class="toctree-l2"><a class="reference internal" href="diagnostics.html">Robot Diagnostics</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Control Panel</a><ul>
<li class="toctree-l3"><a class="reference internal" href="configuration/credentials.html">1. Credentials</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration/robot_model.html">2. Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration/supervisor.html">3. Supervisor</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration/localization.html">4. Localization</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration/perception.html">5. Perception</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cli.html">CLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference.html">Reference</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../knowledge.html">Knowledge Base</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Change Log</a></li>
<li class="toctree-l1"><a class="reference internal" href="../legal.html">Legal</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">3Laws</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../user_guide.html">User Guide</a></li>
      <li class="breadcrumb-item active">Control Panel</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="control-panel">
<h1>Control Panel<a class="headerlink" href="#control-panel" title="Link to this heading"></a></h1>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#overview" id="id1">Overview</a></p></li>
<li><p><a class="reference internal" href="#rosbridge-connection" id="id2">Rosbridge connection</a></p></li>
<li><p><a class="reference internal" href="#supervisor-configuration" id="id3">Supervisor Configuration</a></p></li>
<li><p><a class="reference internal" href="#control-panel-s-operations-page" id="id4">Control Panel’s Operations Page</a></p></li>
</ul>
</nav>
<section id="overview">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Overview</a><a class="headerlink" href="#overview" title="Link to this heading"></a></h2>
<p>The control panel is a web-based configuration and monitoring tool for the Supervisor. It is composed of two main sections:</p>
<blockquote>
<div><ul class="simple">
<li><p>Configuration: This section allows the user to configure the Supervisor’s parameters.</p></li>
<li><p>Operations: This section shows the current state of the Supervisor and the robot.</p></li>
</ul>
</div></blockquote>
<p>Each section is accessed by clicking on the corresponding tab in the Control Panel:</p>
<a class="reference internal image-reference" href="../../_images/cp_tabs.png"><img alt="Control Panel tabs." class="align-center" src="../../_images/cp_tabs.png" style="width: 800px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>A section is also divided into sub-sections, which are accessed by clicking on the corresponding sub-tabs:</p>
<a class="reference internal image-reference" href="../../_images/cp_subtabs.png"><img alt="Control Panel sub-tabs." class="align-center" src="../../_images/cp_subtabs.png" style="width: 800px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>In addition, the navigation bar gives you access to other information, namely the documentation, instruction on how to launch the Supervisor ROS node, and a rosbridge connection status.</p>
</section>
<section id="rosbridge-connection">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Rosbridge connection</a><a class="headerlink" href="#rosbridge-connection" title="Link to this heading"></a></h2>
<p>The Control Panel is most effective when used with a ROS bridge server. This server provides a websocket interface to ROS topics. With this interface, the Control Panel can retrieve information about the <strong>available topics</strong> and help you complete the configuration of the Supervisor.</p>
<p>To install a Rosbridge server (where &lt;distro&gt; is replaced with the version of ROS on the system), run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>ros-&lt;distro&gt;-rosbridge-server
</pre></div>
</div>
<p>The Rosbridge server can be started with the following command:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" role="tablist"><button aria-controls="panel-0-0-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-0-0-0" name="0-0" role="tab" tabindex="0">ROS1</button><button aria-controls="panel-0-0-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-0-0-1" name="0-1" role="tab" tabindex="-1">ROS2</button></div><div aria-labelledby="tab-0-0-0" class="sphinx-tabs-panel" id="panel-0-0-0" name="0-0" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>roslaunch<span class="w"> </span>rosbridge_server<span class="w"> </span>rosbridge_websocket.launch
</pre></div>
</div>
</div><div aria-labelledby="tab-0-0-1" class="sphinx-tabs-panel" hidden="true" id="panel-0-0-1" name="0-1" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ros2<span class="w"> </span>launch<span class="w"> </span>rosbridge_server<span class="w"> </span>rosbridge_websocket_launch.xml
</pre></div>
</div>
</div></div>
<p>This will provide a websocket server at <strong>`ws://localhost:9090`</strong>. The Control Panel can connect in order to retrieve topic and service information.</p>
<p>The navigation bar of the control panel shows the status of the rosbridge server connection:</p>
<a class="reference internal image-reference" href="../../_images/navigation_bar_rosbridge.png"><img alt="Control Panel NavBar with ros bridge connected." src="../../_images/navigation_bar_rosbridge.png" style="width: 800px;" /></a>
<p>A <strong>green</strong> status icon indicates that the Control Panel is connected to the Rosbridge server, while a <strong>red</strong> icon indicates that the Control Panel is not connected.</p>
<p>By clicking on the icon, you can set the IP address and port of the Rosbridge server to which the Control Panel should connect.</p>
<a class="reference internal image-reference" href="../../_images/rosbridge_connection_modal.png"><img alt="Rosbridge connection dialog." class="align-center" src="../../_images/rosbridge_connection_modal.png" style="width: 800px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>During the configuration process, the Control Panel can be used without a Rosbridge server, but the autocompletion for topics and the operation tab will not be available.</p>
</div>
</section>
<section id="supervisor-configuration">
<span id="control-panel-config"></span><h2><a class="toc-backref" href="#id3" role="doc-backlink">Supervisor Configuration</a><a class="headerlink" href="#supervisor-configuration" title="Link to this heading"></a></h2>
<p>The Supervisor’s configurable fields are available through a series of pages in the Control Panel.  Each of the following sections corresponds to a tab in the Control Panel. The tabs are:</p>
<p>The <strong>Save</strong> button on each page of the Control Panel should be pressed to record the current page in the <em>supervisor.yaml</em> file before moving on to another page.</p>
<p>Throughout this documentation, a red asterisk (*) indicates a <em>required</em> field.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="configuration/credentials.html">1. Credentials</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration/robot_model.html">2. Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration/supervisor.html">3. Supervisor</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration/localization.html">4. Localization</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration/perception.html">5. Perception</a></li>
</ul>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The configuration is saved in the <cite>~/.3laws/config/supervisor.yaml</cite> file.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The Control Panel has a topic autocompletion capability that depends on the Rosbridge server. The robot’s stack (without Supervisor) needs to be running and publishing topics for this feature’s proper operation.</p>
</div>
</section>
<section id="control-panel-s-operations-page">
<span id="control-panel-ops"></span><h2><a class="toc-backref" href="#id4" role="doc-backlink">Control Panel’s Operations Page</a><a class="headerlink" href="#control-panel-s-operations-page" title="Link to this heading"></a></h2>
<a class="reference internal image-reference" href="../../_images/cp_operation.png"><img alt="Operations page showing a configured robot that does not yet have sensor or planning data." class="align-center" src="../../_images/cp_operation.png" style="width: 800px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>In the image above, the Supervisor is operational and all the components necessary for proper collision avoidance are configured to be active as indicated by the arrows between them.</p>
<p>If some of the components are not yet operational, the Control Panel will show the boxes in different colors (orange for warning, red for errors).
To get additional information about the error, you can check the logs under the diagram or click on the Status on top of the box to get details on the error source.</p>
<a class="reference internal image-reference" href="../../_images/cp_operation_error.png"><img alt="Operations page showing a configured robot that does not yet have sensor or planning data." class="align-center" src="../../_images/cp_operation_error.png" style="width: 800px;" /></a>
<p>The above image shows a situation where all components are done. We have clicked on the detail status of the Motion Planner components.</p>
<p>A <strong>blue</strong> box indicates that the component is not yet operational and still initializing.</p>
<p>The lower section of the panel show logs and strip charts. The categories that are currently displayed include:</p>
<ul class="simple">
<li><p><strong>Latest logs</strong>: Shows the most recent event from the RAM’s Fault Manager.</p></li>
<li><p><strong>State Safeness</strong>: the Barrier Function (safety-related metric) value. When this value goes to zero or below zero, the system is evaluated as being in a collision state.</p></li>
<li><p><strong>Input Modification</strong>: When this value is zero, the Run-time Assurance Module is passing the input from the planner through to the lower-level UNchanged. That is, the filtering is in passive mode. When this value is non-zero, the Run-time Assurance Module is actively modifying the commanded input.</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>In order to make this page work, the Rosbridge server needs to be active, and the Control Panel must connect to it.</p>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="diagnostics.html" class="btn btn-neutral float-left" title="Robot Diagnostic" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="cli.html" class="btn btn-neutral float-right" title="Command Line Interface (CLI)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, 3Laws Robotics Inc..</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
   
<div
  class="rst-versions"
  data-toggle="rst-versions"
  role="note"
  aria-label="versions"
  style="overflow-y: auto"
>
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Supervisor Docs </span>
    v: 1.0
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Versions:</dt>
       
        <dd>
          <a href="/3laws/en/latest/index.html">latest</a>
        </dd>
          
      <strong>
        
        <dd>
          <a href="/3laws/en/1.0/index.html">1.0</a>
        </dd>
        
      </strong>
       
    </dl>
    <hr style="margin: 5px" />
    Continuous documentation hosting provided by
    <a href="https://pages.github.com/">GitHub Pages</a>.
  </div>
</div>
<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>